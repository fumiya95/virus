<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>【警告】ウイルスに感染しました？</title>
  <style>
    /* 全体のスタイル */
    body {
      margin: 0;
      padding: 0;
      background: #111;  /* 黒っぽい背景 */
      color: #fff;       /* 白文字 */
      font-family: sans-serif;
      text-align: center;
    }
    h1 {
      margin-top: 50px;
      color: red;
    }

    /* 赤い半透明のオーバーレイ */
    #overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(255, 0, 0, 0.2);  /* 半透明の赤 */
      display: none;   /* 初期は非表示 */
    }

    /* 画面が揺れるアニメーション */
    @keyframes shake {
      0%, 100% { transform: translate(0, 0); }
      20% { transform: translate(-10px, 0); }
      40% { transform: translate(10px, 0); }
      60% { transform: translate(-5px, 0); }
      80% { transform: translate(5px, 0); }
    }
    .shake {
      animation: shake 0.5s infinite;
    }
  </style>

  <script>
    window.addEventListener('load', function() {
      // ページ読み込み直後に警告アラート
      alert("重大なセキュリティ警告！\nウイルスを検出しました。");

      // ボタンや要素の取得
      const startBtn = document.getElementById("startBtn");
      const overlay  = document.getElementById("overlay");
      const timerDiv = document.getElementById("timer");  // カウントダウン表示用

      // ボタンクリック時の処理
      startBtn.addEventListener('click', function() {
        // オーバーレイを表示
        overlay.style.display = 'block';
        alert("感染拡大中…ファイルをスキャンしています。");

        // 3秒後にアラート
        setTimeout(function(){
          alert("重要ファイルが削除できませんでした…");
        }, 3000);

        // 6秒後にアラート
        setTimeout(function(){
          alert("ウイルスがシステムを破壊しようとしています…");
        }, 6000);

        // 2秒おきに “ウイルス進行中... (カウンタ)” の行を追加
        let counter = 0;
        setInterval(function(){
          const p = document.createElement('p');
          p.textContent = "ウイルス進行中… (" + counter + ")";
          p.style.color = (counter % 2 === 0) ? 'red' : 'yellow';
          // shakeアニメーションを適用
          p.classList.add('shake');
          document.body.appendChild(p);
          counter++;
        }, 2000);

        // ファイル削除失敗ログを1.5秒ごとにコンソール出力
        setInterval(function(){
          console.log("ファイルを削除中…失敗しました。");
        }, 1500);

        // カウントダウン開始（10秒）
        let timeLeft = 10;
        timerDiv.textContent = "システム崩壊まで: " + timeLeft + " 秒";

        const countdown = setInterval(function(){
          timeLeft--;
          timerDiv.textContent = "システム崩壊まで: " + timeLeft + " 秒";

          if(timeLeft <= 0){
            clearInterval(countdown);

            // 深刻なエラー画面に書き換え
            document.body.innerHTML = "<h1 style='color:red;'>深刻なエラー発生！！</h1>"
              + "<p>OS が破壊されました。</p>";
          }
        }, 1000);
      });
    });
  </script>
</head>

<body>
  <!-- カウントダウンの表示を置く場所 -->
  <div id="timer" style="font-size:2em; margin-top:20px;"></div>

  <h1>警告！あなたのPCがウイルスに感染しました…？</h1>
  <p>システムで重大な問題が検出されました。<br>
     重要ファイルが危険にさらされています。</p>

  <button id="startBtn" style="font-size:1.2em; padding:10px 20px;">
    感染シミュレーション開始
  </button>

  <!-- 赤い半透明で画面を覆うための要素 -->
  <div id="overlay"></div>
</body>
</html>